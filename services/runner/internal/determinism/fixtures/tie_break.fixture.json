{
  "fixture_version": "1.0.0",
  "fixture_type": "tie_break",
  "description": "Tie-break rule verification fixture - ensures deterministic ordering in edge cases",
  "tie_break_rules": [
    {
      "rule_id": "map_key_order",
      "description": "When multiple keys have same hash weight, sort alphabetically (ASCII)",
      "test_cases": [
        {
          "name": "alphabetical_sort",
          "input": {"z": 1, "a": 2, "m": 3},
          "expected_order": ["a", "m", "z"],
          "rationale": "Alphabetical ASCII sort"
        },
        {
          "name": "numeric_string_sort",
          "input": {"10": 1, "2": 2, "1": 3},
          "expected_order": ["1", "10", "2"],
          "rationale": "String sort (not numeric)"
        }
      ]
    },
    {
      "rule_id": "array_element_order",
      "description": "Array order is preserved, not sorted",
      "test_cases": [
        {
          "name": "array_order_preserved",
          "input": [3, 1, 2],
          "expected_order": [3, 1, 2],
          "rationale": "Arrays maintain insertion order"
        }
      ]
    },
    {
      "rule_id": "dependency_proof_order",
      "description": "Dependency proofs sorted alphabetically by hash",
      "test_cases": [
        {
          "name": "dependency_hash_sort",
          "input": ["dep-c", "dep-a", "dep-b"],
          "expected_order": ["dep-a", "dep-b", "dep-c"],
          "rationale": "Sorted alphabetically for deterministic chaining"
        }
      ]
    },
    {
      "rule_id": "step_sequence_order",
      "description": "Steps ordered by sequence number, then by step ID",
      "test_cases": [
        {
          "name": "sequence_then_id",
          "input": [
            {"seq": 2, "id": "step-b"},
            {"seq": 1, "id": "step-a"},
            {"seq": 1, "id": "step-c"}
          ],
          "expected_order": ["step-a", "step-c", "step-b"],
          "rationale": "Primary: seq ascending, Secondary: id ascending"
        }
      ]
    }
  ],
  "pass_condition": "all_tie_break_rules_produce_deterministic_ordering",
  "failure_code": "NON_DETERMINISTIC_TIE_BREAK"
}
